@model MyBlog.PresentationLayer.Models.ProfileViewModel

@{
    ViewData["Title"] = "Volkan Güleç | Portföy";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

<style>
    .ap-card {
        border-radius: 16px;
        box-shadow: 0 4px 32px 0 rgba(38,99,235,0.09);
        border: none;
        margin-bottom: 32px;
        overflow: hidden;
    }

    .ap-header {
        background: linear-gradient(90deg, #2563eb 0%, #1e293b 100%);
        color: #fff;
        padding: 20px 32px 14px 32px;
        font-size: 1.18em;
        font-weight: 600;
        display: flex;
        align-items: center;
    }

    .profile-row {
        display: flex;
        gap: 28px;
        flex-wrap: wrap;
        align-items: center;
        padding: 24px;
    }

        .profile-row img {
            width: 110px;
            height: 110px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid #2563eb;
        }

    .profile-details {
        flex: 1;
        min-width: 180px;
    }

    .profile-links a {
        color: #0a66c2;
        font-weight: bold;
        margin-right: 15px;
        text-decoration: none;
    }

    .projects-list {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        margin: 24px 0;
    }

    .project-card {
        background: #f1f5f9;
        border-radius: 10px;
        box-shadow: 0 2px 10px #2563eb13;
        min-width: 210px;
        max-width: 330px;
        padding: 18px 15px 20px 15px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .project-title {
        font-weight: bold;
        font-size: 1.09em;
        margin-bottom: 4px;
    }

    .project-desc {
        color: #334155;
        font-size: 0.97em;
        margin-bottom: 8px;
    }

    .project-link {
        font-weight: bold;
        color: #2563eb;
        text-decoration: none;
    }

    .message-form {
        max-width: 420px;
        margin-top: 18px;
    }

    .center-form {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 300px;
    }
    
</style>

<div class="container py-4">

    <!-- PROFİL BİLGİLERİ -->
    <div class="ap-card mb-4">
        <div class="ap-header"><i class="fa-solid fa-user"></i> Profil</div>
        <div class="profile-row">
            <img src="@Model.ProfileImage" alt="Profil Fotoğrafı" />
            <div class="profile-details">
                <h2>@Model.FullName</h2>
                <div style="color:#64748b;">@Model.Location</div>
                <div class="mt-1">@Model.About</div>
                <div class="mt-2"><b>Eğitim:</b> @Model.Education</div>
                <div class="profile-links mt-2">
                    <a href="@Model.Linkedin" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIn</a>
                    <a href="@Model.Github" target="_blank"><i class="fa-brands fa-github"></i> GitHub</a>
                </div>
            </div>
        </div>
    </div>

    <!-- PROJELER -->
    <div class="ap-card mb-4">
        <div class="ap-header"><i class="fa-solid fa-diagram-project"></i> Projeler</div>
        <div class="projects-list">
            @if (Model.Projects != null && Model.Projects.Any())
            {
                foreach (var p in Model.Projects)
                {
                    <div class="project-card">
                        <div class="project-title">@p.Title</div>
                        <div class="project-desc">@p.Description</div>
                        @if (!string.IsNullOrEmpty(p.Link))
                        {
                            <a class="project-link" href="@p.Link" target="_blank">
                                Projeye Git <i class="fa-solid fa-arrow-up-right-from-square"></i>
                            </a>
                        }
                    </div>
                }
            }
            else
            {
                <div>Henüz ekli proje yok.</div>
            }
        </div>
    </div>

    <!-- MESAJ GÖNDERME FORMU -->
    <div class="ap-card mb-4">
        <div class="ap-header"><i class="fa-solid fa-paper-plane"></i> Bana Mesaj Gönder</div>
        <div style="display: flex; justify-content: center;">
            <form asp-action="SendMessage" method="post" style="width:100%; max-width:380px;">
                <input name="Name" placeholder="Adınız" class="form-control mb-2" required />
                <input name="Email" placeholder="E-posta" type="email" class="form-control mb-2" required />
                <textarea name="Content" placeholder="Mesajınız" class="form-control mb-2" required></textarea>
                <button type="submit" class="btn btn-primary">Gönder</button>
            </form>
        </div>
        @if (TempData["MessageResult"] != null)
        {
            <div class="alert alert-success mt-2">@TempData["MessageResult"]</div>
        }
    </div>


</div>
